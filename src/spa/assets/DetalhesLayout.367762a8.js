import{_ as v,F as w,y as l,n as k,r as C,o as r,c as d,w as a,a as t,S as _,G as i,L as n,I as c,a0 as g,K as x}from"./index.d1c7a911.js";import{Q as b}from"./QItem.2838d7a1.js";import{Q as y,a as A,b as Q}from"./QHeader.d56fb8c7.js";import{Q as B,a as N}from"./QLayout.115afb03.js";import{E as s}from"./EventBus.62ac39c0.js";import{A as m}from"./API.dd7d2a86.js";const $=w({setup(){const e=l(!1),o=l(null),u=l(JSON.parse(localStorage.getItem("userinfo")));return s.on("gravar-autor",f=>{o.value=f}),k(()=>{s.off("gravar-autor")}),{editando:e,logged:l(!0),pecas:l(!0),autor:o,userinfo:u}},methods:{novoAnuncio(){s.emit("novoAnuncio")},buscar(){s.emit("buscar")},buttonAction(e,o){m.post("/action",{action:e,window:o})},editar(){this.editando=!this.editando,s.emit("editar-anuncio")},salvarAnuncio(){s.emit("salvar-editar-novo-anuncio")},deletar(){s.emit("deletar-anuncio")},contatar(){m.post("/novo-pedido",{parent:"detalhes"})}}}),I={key:0,class:"row flex"},L=i("i",{class:"fa-brands fa-whatsapp"},null,-1),S=i("div",{class:"region-drag",style:{"min-width":"200px",cursor:"move",height:"50px"}},null,-1),T=i("div",{class:"flex-center flex text-h6"},null,-1),V={class:"row text-h6"},z={class:"row q-ml-md"};function E(e,o,u,f,q,F){const h=C("router-view");return r(),d(B,{view:"hHh lpR fFf"},{default:a(()=>[t(Q,{elevated:"",class:"text-white",style:{"background-color":"#00d6a5"}},{default:a(()=>[t(y,{class:"full-width"},{default:a(()=>[e.autor===e.userinfo.id?(r(),_("div",I,[i("div",null,[t(n,{flat:"",color:"red",icon:"delete",class:"text-white",onClick:e.deletar},null,8,["onClick"]),t(n,{flat:"",color:"white",icon:"edit",class:"text-white",onClick:e.editar},null,8,["onClick"]),e.editando?(r(),d(n,{key:0,label:"Salvar",flat:"",color:"white",class:"text-white",onClick:e.salvarAnuncio},null,8,["onClick"])):c("",!0)])])):c("",!0),!e.editando&&e.autor!==e.userinfo.id?(r(),d(n,{key:1,flat:"",class:"text-white",onClick:e.contatar},{default:a(()=>[t(g,{class:"q-mr-sm"},{default:a(()=>[L]),_:1}),x(" CONTATAR ")]),_:1},8,["onClick"])):c("",!0),S,t(A,{class:"row absolute-top-right justify-end",style:{width:"60%","z-index":"999999"}},{default:a(()=>[T,i("div",V,[t(b,{class:"text-white"})]),i("div",z,[t(n,{flat:"",icon:"minimize",class:"text-white",onClick:o[0]||(o[0]=p=>e.buttonAction("minimize","detalhes"))}),t(n,{flat:"",icon:"close",class:"text-white",onClick:o[1]||(o[1]=p=>e.buttonAction("close","detalhes"))})])]),_:1})]),_:1})]),_:1}),t(N,{style:{"max-height":"calc(100vh - 50px)",overflow:"auto","margin-top":"50px"}},{default:a(()=>[t(h)]),_:1})]),_:1})}var G=v($,[["render",E]]);export{G as default};
