import{_ as S,F as w,y as t,r as _,o as g,c,w as r,a,Q as s,G as i,H as k,I as E,J as p,K as h,L as V,M as $,N as y}from"./index.d1c7a911.js";import{Q as C}from"./QImg.ffc2e591.js";import{Q}from"./QPage.57501317.js";import{A as b}from"./API.dd7d2a86.js";var v="/assets/logo.0d8aec72.png";const A=w({data(){localStorage.getItem("token")&&this.$router.push("/main/anuncios");const e=t(""),o=t("");return{erroGeral:t(""),email:e,password:o,logo:v,erroEmail:t(""),erroSenha:t(""),loading:t(!1)}},methods:{login(){this.erroEmail="",this.erroGeral="",this.erroSenha="";let e=!1;/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(this.email)||(this.erroEmail="E-mail inv\xE1lido",e=!0),/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(this.password)||(this.erroSenha="Senha inv\xE1lida",e=!0),!e&&b.post("/login",{email:this.email,password:this.password}).then(({data:l,status:u})=>{var d,n;if(u!==200){this.erroGeral=(n=(d=l.message)!=null?d:l.error)!=null?n:"Erro desconhecido",setTimeout(()=>{this.erroGeral=""},5e3);return}else localStorage.setItem("token",l.token),localStorage.setItem("userinfo",JSON.stringify(l.userinfo)),this.loading=!0,setTimeout(()=>{this.$router.push("/main/anuncios")},1e3)})}}}),G=i("div",{class:"text-h6"},"Aluguel de Pe\xE7as F\xE1cil",-1),I=i("div",{class:"text-h4 a-text"},"Fa\xE7a login para continuar",-1),N={class:"text-subtitle1 text-red"};function x(e,o,f,l,u,d){const n=_("router-link");return g(),c(Q,{class:"row q-pa-md justify-center"},{default:r(()=>[a(y,{class:"col-md-4 col-xs-12 col-sm-8"},{default:r(()=>[a(s,{class:"bg-one text-white"},{default:r(()=>[G]),_:1}),a(s,{class:"flex flex-center"},{default:r(()=>[a(C,{src:e.logo,ratio:1,style:{width:"100px",margin:"auto"}},null,8,["src"])]),_:1}),a(s,{class:"a-text text-center"},{default:r(()=>[I]),_:1}),e.erroGeral.length>0?(g(),c(s,{key:0,class:"text-center"},{default:r(()=>[i("div",N,k(e.erroGeral),1)]),_:1})):E("",!0),a(s,null,{default:r(()=>[a(p,{modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=m=>e.email=m),label:"E-mail",outlined:"",type:"email",class:"q-mb-md q-mt-xs a-input",error:e.erroEmail.length>0,"error-message":e.erroEmail},null,8,["modelValue","error","error-message"]),a(p,{modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=m=>e.password=m),label:"Senha",type:"password",outlined:"",class:"a-input",error:e.erroSenha.length>0,"error-message":e.erroSenha},null,8,["modelValue","error","error-message"])]),_:1}),a(s,null,{default:r(()=>[i("small",null,[h(" N\xE3o tem uma conta? "),a(n,{to:"/register",class:"a-text"},{default:r(()=>[h("Registre-se")]),_:1})])]),_:1}),a(s,null,{default:r(()=>[a(V,{color:"primary",label:"Login",class:$({"full-width a-btn":!0,"a-disabled":e.loading}),loading:e.loading,percentage:0,onClick:e.login},null,8,["class","loading","onClick"])]),_:1})]),_:1})]),_:1})}var q=S(A,[["render",x]]);export{q as default};
