import{_ as b,F as V,y as a,r as C,o as p,c as h,w as l,a as s,Q as t,G as m,H as q,I as P,J as n,K as c,L as E,M as F,N as S}from"./index.d1c7a911.js";import{Q as $}from"./QPage.57501317.js";import{A as y}from"./API.dd7d2a86.js";const k=V({data(){return localStorage.getItem("token")&&this.$router.push("/main/anuncios"),{loading:a(!1),erroGeral:a(""),nome:a(""),CPF:a(""),email:a(""),telefone:a(""),endereco:a(""),bairro:a(""),cep:a(""),senha:a(""),confirmarSenha:a(""),erros:a({nome:!1,CPF:!1,email:!1,telefone:!1,endereco:!1,bairro:!1,cep:!1,senha:!1,confirmarSenha:!1}),mensagensDeErro:{nome:"Nome inv\xE1lido",CPF:"CPF inv\xE1lido",email:"Email inv\xE1lido",telefone:"Telefone inv\xE1lido",endereco:"Endere\xE7o inv\xE1lido",bairro:"Bairro inv\xE1lido",cep:"CEP inv\xE1lido",senha:"A senha deve conter pelo menos 8 caracteres, uma letra mai\xFAscula, uma letra min\xFAscula, um n\xFAmero e um caractere especial",confirmarSenha:"As senhas n\xE3o coincidem"},erro:a("")}},methods:{register(){this.erroGeral="";const e={nome:/^[a-zA-Z\s]{3,}$/,CPF:/^\d{3}\.\d{3}\.\d{3}-\d{2}$/,email:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,telefone:/^\(\d{2}\) \d{4,5}-\d{4}$/,endereco:/^.{3,}$/,bairro:/^.{3,}$/,cep:/^\d{5}-\d{3}$/,senha:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/};this.erros.nome=!1,this.erros.CPF=!1,this.erros.email=!1,this.erros.telefone=!1,this.erros.endereco=!1,this.erros.bairro=!1,this.erros.cep=!1,this.erros.senha=!1,this.erros.confirmarSenha=!1;let r=!1;e.nome.test(this.nome)||(this.erros.nome=!0,r=!0),e.CPF.test(this.CPF)||(this.erros.CPF=!0,r=!0),e.email.test(this.email)||(this.erros.email=!0,r=!0),e.telefone.test(this.telefone)||(this.erros.telefone=!0,r=!0),e.endereco.test(this.endereco)||(this.erros.endereco=!0,r=!0),e.bairro.test(this.bairro)||(this.erros.bairro=!0,r=!0),e.cep.test(this.cep)||(this.erros.cep=!0,r=!0),e.senha.test(this.senha)||(this.erros.senha=!0,r=!0),this.senha!==this.confirmarSenha&&(this.erros.confirmarSenha=!0,r=!0),!r&&y.post("/criar-usuario",{nome:this.nome,CPF:this.CPF.replace(/\.|\-/g,""),email:this.email,telefone:this.telefone.replace(/\(|\)|\s|-/g,""),endereco:this.endereco,bairro:this.bairro,cep:this.cep.replace("-",""),senha:this.senha}).then(({status:f,data:i})=>{var d,u;if(f!==201){this.erroGeral=(u=(d=i.message)!=null?d:i.error)!=null?u:"Erro desconhecido",setTimeout(()=>{this.erroGeral=""},5e3);return}else localStorage.setItem("token",i.token),localStorage.setItem("userinfo",JSON.stringify(i.userinfo)),this.loading=!0,setTimeout(()=>{this.$router.push("/main/anuncios")},1e3)})}}}),v=m("div",{class:"text-h6"},"Aluguel F\xE1cil",-1),A=m("div",{class:"text-h4"},"Registre-se para continuar",-1),D={class:"text-subtitle1 text-red"};function U(e,r,f,i,d,u){const g=C("router-link");return p(),h($,{class:"row q-pa-lg justify-center"},{default:l(()=>[s(S,{class:"col-md-8 col-xs-12 col-sm-8"},{default:l(()=>[s(t,{class:"bg-one text-white"},{default:l(()=>[v]),_:1}),s(t,{class:"a-text q-mt-md q-mb-sm text-center"},{default:l(()=>[A]),_:1}),e.erroGeral.length>0?(p(),h(t,{key:0,class:"text-center"},{default:l(()=>[m("div",D,q(e.erroGeral),1)]),_:1})):P("",!0),s(t,{class:"row"},{default:l(()=>[s(n,{modelValue:e.nome,"onUpdate:modelValue":r[0]||(r[0]=o=>e.nome=o),label:"Nome",outlined:"",type:"text",class:"q-mb-sm a-input col-md-8 col-12 q-pr-sm",error:e.erros.nome,"error-message":e.mensagensDeErro.nome},null,8,["modelValue","error","error-message"]),s(n,{modelValue:e.CPF,"onUpdate:modelValue":r[1]||(r[1]=o=>e.CPF=o),label:"CPF",outlined:"",type:"text",class:"q-mb-sm a-input col-md-4 col-12 q-pl-sm",mask:"###.###.###-##",error:e.erros.CPF,"error-message":e.mensagensDeErro.CPF},null,8,["modelValue","error","error-message"]),s(n,{modelValue:e.email,"onUpdate:modelValue":r[2]||(r[2]=o=>e.email=o),label:"Email",outlined:"",type:"email",class:"q-mb-sm a-input col-md-6 col-12 q-pr-sm",error:e.erros.email,"error-message":e.mensagensDeErro.email},null,8,["modelValue","error","error-message"]),s(n,{modelValue:e.telefone,"onUpdate:modelValue":r[3]||(r[3]=o=>e.telefone=o),label:"Telefone",outlined:"",type:"text",class:"q-mb-sm a-input col-md-6 col-12 q-pl-sm",mask:"(##) #####-####",error:e.erros.telefone,"error-message":e.mensagensDeErro.telefone},null,8,["modelValue","error","error-message"]),s(n,{modelValue:e.endereco,"onUpdate:modelValue":r[4]||(r[4]=o=>e.endereco=o),label:"Endere\xE7o",outlined:"",type:"text",class:"q-mb-sm a-input col-md-5 col-12 q-pr-sm",error:e.erros.endereco,"error-message":e.mensagensDeErro.endereco},null,8,["modelValue","error","error-message"]),s(n,{modelValue:e.bairro,"onUpdate:modelValue":r[5]||(r[5]=o=>e.bairro=o),label:"Bairro",outlined:"",type:"text",class:"q-mb-sm a-input col-md-4 col-12 q-pl-sm q-pr-sm",error:e.erros.bairro,"error-message":e.mensagensDeErro.bairro},null,8,["modelValue","error","error-message"]),s(n,{modelValue:e.cep,"onUpdate:modelValue":r[6]||(r[6]=o=>e.cep=o),label:"CEP",outlined:"",type:"text",class:"q-mb-sm a-input col-md-3 col-12 q-pl-sm",mask:"#####-###",error:e.erros.cep,"error-message":e.mensagensDeErro.cep},null,8,["modelValue","error","error-message"]),s(n,{modelValue:e.senha,"onUpdate:modelValue":r[7]||(r[7]=o=>e.senha=o),label:"Senha",type:"password",outlined:"",class:"a-input q-mt-md col-md-6 col-12 q-pr-sm",error:e.erros.senha,"error-message":e.mensagensDeErro.senha},null,8,["modelValue","error","error-message"]),s(n,{modelValue:e.confirmarSenha,"onUpdate:modelValue":r[8]||(r[8]=o=>e.confirmarSenha=o),label:"Confirmar Senha",type:"password",outlined:"",class:"a-input q-mt-md col-md-6 col-12 q-pl-sm",error:e.erros.confirmarSenha,"error-message":e.mensagensDeErro.confirmarSenha},null,8,["modelValue","error","error-message"])]),_:1}),s(t,null,{default:l(()=>[m("small",null,[c(" J\xE1 tem uma conta? "),s(g,{to:"/",class:"a-text"},{default:l(()=>[c("Entrar")]),_:1})])]),_:1}),s(t,null,{default:l(()=>[s(E,{color:"teal-13",label:"Registrar",class:F({"full-width a-btn":!0,"a-disabled":e.loading}),onClick:e.register,loading:e.loading,percentage:0},null,8,["class","onClick","loading"])]),_:1})]),_:1})]),_:1})}var G=b(k,[["render",U]]);export{G as default};
